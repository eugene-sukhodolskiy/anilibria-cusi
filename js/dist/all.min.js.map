{"version":3,"sources":["Alert.js","App.js","Auth.js","CacheProvider.js","Loader.js","PostRender.js","Renderer.js","Router.js","conf.js","functions.js","routes-events.js"],"names":["Alert","constructor","type","content","isSingleton","isClosable","this","id","Date","getTime","Math","random","alertsList","referenceComponent","document","querySelector","console","error","template","cloneNode","getInstance","initComponent","classList","add","setAttribute","innerHTML","addEventListener","e","preventDefault","close","showIn","container","append","setTimeout","remove","changeContent","newContent","closeAlertComponent","alertId","createAlertComponent","createGlobalAlertComponent","alert","querySelectorAll","forEach","item","currentTarget","getAttribute","App","router","Router","auth","Auth","renderer","Renderer","postRender","PostRender","loader","Loader","cacheProvider","CacheProvider","init","initRoutesEvents","urlMonitor","initDisplayingAuthBtns","initPreloadSpinner","initBaseEvents","initGenres","renderPreloadSpinner","logout","contains","hideMobNav","showMobNav","squery","keyCode","value","trim","location","hash","blur","lmap","home","homePageUpToLoad","search","searchPageUpToLoad","genres","genresPageUpToLoad","let","p","page","renderContainer","from","childNodes","length","resp","list","insertListToRenderContainer","genresList","items","appendChild","renderGenresList","node","getSessionId","app","window","formSelector","form","submitBtn","initForm","email","passwd","xhr","XMLHttpRequest","open","onload","status","JSON","parse","response","err","localStorage","setItem","sessionId","mes","fdata","FormData","send","removeItem","unsetCache","cache","lifetime","createAt","setInterval","manager","storage","getItem","setCache","key","data","round","saveCache","stringify","cacheable","code","callback","currentTimestamp","anilibriaRequest","after","limit","_CONF","perPage","filter","getItemCardFields","decodeURI","split","selectedGenres","getSelectedGenres","join","favouritesList","sessId","cacheableCallback","session","sorting_type","itemCard","html","nodeFromHTML","parentNode","single","post","i","playerData","default_quality","preroll_deny","file","player","files","host","hls","sd","hd","fhd","push","skip","skips","opening","title","poster","download","Playerjs","renderFavoriteBtn","favoriteBtn","postId","addToFavourites","removeFromFavourites","genreBtn","genre","inx","map","indexOf","splice","renderThumbnail","string","posters","medium","url","episodes","last","renderItemCard","thumb","names","ru","season","year","full_string","renderTorrents","torrents","torrent","size","total_size","toString","substr","torrent_id","quality","seeders","leechers","renderSingle","en","description","renderGenreBtn","createElement","btn","pagesContainerSelector","defaultPageId","notFoundPageId","containerSelector","events","findedPages","pages","currentPage","currentPath","zindex","goToPage","pageId","style","zIndex","scrollTo","top","route","addEvent","name","api","domen","ver","numbOfRelevant","stdXHR","method","onloadCallback","setRequestHeader","onerror","makeSelectedGenresActivated","setPageTitle","pageTitle","title_id","params","query","URLSearchParams","ids","resp2","series","favs","j"],"mappings":"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","file":"all.min.js","sourcesContent":["class Alert {\n\tconstructor(type, content, isSingleton, isClosable) {\n\t\tthis.id = \"alert-id-\" + (new Date()).getTime() + Math.random();\n\t\talertsList[this.id] = this;\n\t\tthis.type = type;\n\t\tthis.content = content || \"\";\n\t\tthis.isSingleton = isSingleton || false;\n\t\tthis.isClosable = isClosable || false;\n\n\t\tconst referenceComponent = document.querySelector(`.component.alert[data-id=\"alert-id-reference\"]`);\n\t\tif(!referenceComponent){\n\t\t\treturn console.error(\"Reference of alert component not found\");\n\t\t}\n\n\t\tthis.template = referenceComponent.cloneNode(true);\n\t\tthis.template.getInstance = () => this;\n\t\tthis.initComponent();\n\t}\n\n\tinitComponent() {\n\t\tthis.template.classList.add(`alert-${this.type}`);\n\t\tthis.template.setAttribute(\"data-id\", this.id);\n\t\tthis.template.querySelector(\".content\").innerHTML = this.content;\n\n\t\tthis.template.querySelector(\".close-alert\").addEventListener(\"click\", e => {\n\t\t\te.preventDefault();\n\t\t\tthis.close();\n\t\t});\n\t}\n\n\tshowIn(container) {\n\t\tif(!this.template){\n\t\t\treturn false;\n\t\t}\n\n\t\tif(this.isSingleton){\n\t\t\tcontainer.innerHTML = \"\";\n\t\t}\n\t\tcontainer.append(this.template);\n\t\tsetTimeout(() => {\n\t\t\tthis.template.classList.add(\"show\");\n\t\t}, 10);\n\n\t\treturn this;\n\t}\n\n\tclose() {\n\t\tthis.template.classList.remove(\"show\");\n\t\tsetTimeout(() => {\n\t\t\tthis.template.remove();\n\t\t\tdelete alertsList[this.id];\n\t\t}, 150);\n\t}\n\n\tchangeContent(newContent) {\n\t\tthis.template.querySelector(\".content\").innerHTML = newContent;\n\t}\n}\n\nconst closeAlertComponent = alertId => {\n\treturn alertsList[alertId]?.close();\n}\n\nconst createAlertComponent = (type, content, isSingleton, isClosable) => {\n\treturn new Alert(type, content, isSingleton, isClosable);\n}\n\nconst createGlobalAlertComponent = (type, content, isSingleton, isClosable) => {\n\tconst alert = createAlertComponent(type, content, isSingleton, isClosable);\n\talert.showIn(document.querySelector(\".global-alerts-container\"));\n\treturn alert;\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", e => {\n\tdocument.querySelectorAll(`.component.alert .close-alert`).forEach(item => {\n\t\titem.addEventListener(\"click\", e => {\n\t\t\te.preventDefault();\n\t\t\tconst alertId = e.currentTarget.getAttribute(\"data-close-alert-id\");\n\t\t\tcloseAlertComponent(alertId);\n\t\t});\n\t});\n});\n\nconst alertsList = {};","class App {\n\tconstructor() {\n\t\tthis.router = new Router(\".page-container\", \"home\", \"not-found\");\n\t\tthis.auth = new Auth(\"#login .login-form form\");\n\t\tthis.renderer = new Renderer();\n\t\tthis.postRender = new PostRender();\n\t\tthis.loader = new Loader();\n\t\tthis.cacheProvider = new CacheProvider();\n\n\t\tsetTimeout(() => {\n\t\t\tthis.init();\n\t\t}, 10);\n\t}\n\n\tinit() {\n\t\tinitRoutesEvents(this);\n\t\tthis.router.urlMonitor();\n\n\t\tthis.initDisplayingAuthBtns();\n\t\tthis.initPreloadSpinner();\n\t\tthis.initBaseEvents();\n\t\tthis.initGenres();\n\t}\n\n\tinitPreloadSpinner() {\n\t\tdocument.querySelectorAll(\".preload-spinner\").forEach(item => {\n\t\t\titem.innerHTML = this.renderer.renderPreloadSpinner();\n\t\t});\n\t}\n\n\tinitBaseEvents() {\n\t\tdocument.querySelector(\".logout-btn\").addEventListener(\"click\", e => {\n\t\t\tthis.auth.logout();\n\t\t});\n\n\t\tdocument.querySelector(\".btn-nav-on-mob-show\").addEventListener(\"click\", e => {\n\t\t\tif(e.currentTarget.classList.contains(\"active\")) {\n\t\t\t\thideMobNav();\n\t\t\t}else{\n\t\t\t\tshowMobNav();\n\t\t\t}\n\t\t});\n\n\t\tdocument.querySelector(`[name=\"search\"]`).addEventListener(\"keyup\", e => {\n\t\t\te.preventDefault();\n\t\t\tif(e.keyCode == 13) {\n\t\t\t\tlet squery = e.currentTarget.value.trim();\n\t\t\t\tdocument.location.hash = `page:search;sq:${squery}`;\n\t\t\t\te.currentTarget.blur();\n\t\t\t}\n\t\t});\n\n\t\tconst lmap = { \n\t\t\thome: this.loader.homePageUpToLoad, \n\t\t\tsearch: this.loader.searchPageUpToLoad, \n\t\t\tgenres: this.loader.genresPageUpToLoad \n\t\t};\n\t\tfor(let p in lmap) {\n\t\t\tconst page = document.querySelector(`#${p}`);\n\t\t\tpage.querySelector(`.more-btn`).addEventListener(\"click\", e => {\n\t\t\t\tconst renderContainer = page.querySelector(\".render-container\");\n\t\t\t\tconst from = renderContainer.childNodes.length;\n\t\t\t\tpage.querySelector(`.more-btn-wrap .preload-spinner`).classList.remove(\"dnone\");\n\t\t\t\tpage.querySelector(`.more-btn`).classList.add(\"dnone\");\n\n\t\t\t\tlmap[p](from, resp => {\n\t\t\t\t\tpage.querySelector(`.more-btn-wrap .preload-spinner`).classList.add(\"dnone\");\n\t\t\t\t\tif(resp.list.length) {\n\t\t\t\t\t\tpage.querySelector(`.more-btn`).classList.remove(\"dnone\");\n\t\t\t\t\t}\n\t\t\t\t\tinsertListToRenderContainer(renderContainer, resp.list);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\n\tinitGenres() {\n\t\tthis.loader.genresList(items => {\n\t\t\tdocument.querySelector(\"#genres .render-genres\").appendChild(this.renderer.renderGenresList(items).node);\n\t\t});\n\t}\n\n\tinitDisplayingAuthBtns() {\n\t\tif(getSessionId()) {\n\t\t\tdocument.querySelector(\".logout-btn\").classList.remove(\"dnone\");\n\t\t\tdocument.querySelector(\".go-login-page-btn\").classList.add(\"dnone\");\n\t\t} else {\n\t\t\tdocument.querySelector(\".logout-btn\").classList.add(\"dnone\");\n\t\t\tdocument.querySelector(\".go-login-page-btn\").classList.remove(\"dnone\");\n\t\t}\n\t}\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", e => {\n\tconst app = new App();\n\twindow.app = () => app;\n});","class Auth {\n\tconstructor(formSelector) {\n\t\tthis.formSelector = formSelector;\n\t\tthis.form = document.querySelector(this.formSelector);\n\t\tthis.submitBtn = this.form.querySelector(\".submit-btn\");\n\t\tthis.initForm();\n\t}\n\n\tinitForm() {\n\t\tthis.form.addEventListener(\"submit\", e => {\n\t\t\te.preventDefault();\n\t\t\tif(this.submitBtn.classList.contains(\"disable\")) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.submitBtn.classList.add(\"disable\");\n\n\t\t\tconst email = this.form.querySelector(\"#email\").value;\n\t\t\tconst passwd = this.form.querySelector(\"#passwd\").value;\n\n\t\t\tconst xhr = new XMLHttpRequest();\n\t\t\txhr.open(\"POST\", \"https://www.anilibria.tv/public/login.php\");\n\t\t\txhr.onload = () => {\n\t\t\t\tthis.submitBtn.classList.remove(\"disable\");\n\n\t\t\t\tif(xhr.status == 200) {\n\t\t\t\t\tconst resp = JSON.parse(xhr.response);\n\t\t\t\t\tif(resp.err == \"ok\") {\n\t\t\t\t\t\tlocalStorage.setItem(\"sessionId\", resp.sessionId);\n\t\t\t\t\t\tconst alert = createGlobalAlertComponent(\"success\", \"Успешно!\");\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\talert.close();\n\t\t\t\t\t\t}, 2000);\n\t\t\t\t\t\tdocument.location.hash = \"#\";\n\t\t\t\t\t\tdocument.querySelector(\".logout-btn\").classList.remove(\"dnone\");\n\t\t\t\t\t\tdocument.querySelector(\".go-login-page-btn\").classList.add(\"dnone\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst alert = createGlobalAlertComponent(\"danger\", resp.mes);\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\talert.close();\n\t\t\t\t\t\t}, 4500);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst alert = createGlobalAlertComponent(\"danger\", \"Сервер не доступен\");\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\talert.close();\n\t\t\t\t\t}, 4500);\n\t\t\t\t}\t\t\t\t\n\t\t\t}\n\n\t\t\tconst fdata = new FormData();\n\t\t\tfdata.append(\"mail\", email);\n\t\t\tfdata.append(\"passwd\", passwd);\n\t\t\tfdata.append(\"fa2code\", \"\");\n\t\t\tfdata.append(\"csrf\", \"1\");\n\t\t\txhr.send(fdata);\n\t\t});\n\t}\n\n\tlogout() {\n\t\tlocalStorage.removeItem(\"sessionId\");\n\t\tdocument.location.hash = \"#page:login\";\n\t\tdocument.querySelector(\".logout-btn\").classList.add(\"dnone\");\n\t\tdocument.querySelector(\".go-login-page-btn\").classList.remove(\"dnone\");\n\t\tapp().cacheProvider.unsetCache(\"favouritesList\");\n\t}\n}","class CacheProvider {\n\tconstructor() {\n\t\tthis.cache = {};\n\t\tthis.lifetime = {};\n\t\tthis.createAt = {};\n\n\t\tthis.init();\n\t\tsetInterval(() => {\n\t\t\tthis.manager();\n\t\t}, 1000);\n\t}\n\n\tinit() {\n\t\tlet storage = localStorage.getItem(\"cache\");\n\t\tif(storage) {\n\t\t\tstorage = JSON.parse(storage);\n\t\t\tthis.cache = storage.cache;\n\t\t\tthis.lifetime = storage.lifetime;\n\t\t\tthis.createAt = storage.createAt;\n\t\t}\n\t}\n\n\tsetCache(key, data, lifetime) {\n\t\tthis.cache[key] = data;\n\t\tthis.lifetime[key] = lifetime;\n\t\tthis.createAt[key] = Math.round((new Date()).getTime() / 1000);\n\n\t\tthis.saveCache();\n\t}\n\n\tsaveCache() {\n\t\tlocalStorage.setItem(\"cache\", JSON.stringify({\n\t\t\tcache: this.cache,\n\t\t\tlifetime: this.lifetime,\n\t\t\tcreateAt: this.createAt\n\t\t}));\n\t}\n\n\tcacheable(key, code, callback, lifetime) {\n\t\tif(this.cache[key]) {\n\t\t\treturn callback(this.cache[key]);\n\t\t}\n\n\t\tcode(data => {\n\t\t\tthis.setCache(key, data, lifetime);\n\t\t\tcallback(data);\n\t\t});\n\t}\n\n\tunsetCache(key) {\n\t\tif(this.cache[key]) {\n\t\t\tdelete this.cache[key] \n\t\t\tdelete this.lifetime[key] \n\t\t\tdelete this.createAt[key]\n\t\t\tthis.saveCache();\n\t\t}\n\t}\n\n\tmanager() {\n\t\tconst currentTimestamp = Math.round((new Date()).getTime() / 1000);\n\n\t\tfor(let key in this.cache) {\n\t\t\tif(!this.lifetime[key]) \n\t\t\t\tcontinue;\n\n\t\t\tif(currentTimestamp - this.createAt[key] > this.lifetime[key]) {\n\t\t\t\tthis.unsetCache(key);\n\t\t\t}\n\t\t}\n\t}\n}","class Loader {\n\tconstructor() {}\n\n\thomePageUpToLoad(from, callback) {\n\t\tanilibriaRequest(\n\t\t\t\"title/updates\", \n\t\t\t{\n\t\t\t\tafter: from,\n\t\t\t\tlimit: _CONF.perPage.home,\n\t\t\t\tfilter: getItemCardFields()\n\t\t\t}, \n\t\t\tresp => callback(resp)\n\t\t);\n\t}\n\n\tsearchPageUpToLoad(from, callback) {\n\t\tlet squery = decodeURI(document.location.hash.split(\"sq:\")[1]);\n\n\t\tanilibriaRequest(\n\t\t\t\"title/search\", \n\t\t\t{\n\t\t\t\tafter: from,\n\t\t\t\tlimit: _CONF.perPage.search,\n\t\t\t\tfilter: getItemCardFields(),\n\t\t\t\tsearch: squery\n\t\t\t}, \n\t\t\tresp => callback(resp)\n\t\t);\n\t}\n\n\tgenresPageUpToLoad(from, callback) {\n\t\tconst selectedGenres = getSelectedGenres();\n\n\t\tanilibriaRequest(\n\t\t\t\"title/search\", \n\t\t\t{\n\t\t\t\tsearch: \"\",\n\t\t\t\tfilter: getItemCardFields(),\n\t\t\t\tgenres: selectedGenres.join(\",\"),\n\t\t\t\tafter: from,\n\t\t\t\tlimit: _CONF.perPage.search,\n\t\t\t}, \n\t\t\tresp => callback(resp)\n\t\t);\n\t}\n\n\tfavouritesList(callback) {\n\t\tconst sessId = getSessionId();\n\t\tif(!sessId) {\n\t\t\treturn setTimeout(() => document.location.hash = \"#page:login\", 20);\n\t\t}\n\n\t\tapp().cacheProvider.cacheable(\n\t\t\t\"favouritesList\", \n\t\t\tcacheableCallback => {\n\t\t\t\tanilibriaRequest(\n\t\t\t\t\t\"v2.13:getFavorites\", \n\t\t\t\t\t{\n\t\t\t\t\t\tsession: sessId,\n\t\t\t\t\t\tlimit: 100,\n\t\t\t\t\t\tfilter: getItemCardFields(),\n\t\t\t\t\t}, \n\t\t\t\t\tresp => cacheableCallback(resp)\n\t\t\t\t);\n\t\t\t}, \n\t\t\tcallback,\n\t\t\t60 * 5\n\t\t);\n\t}\n\n\tgenresList(callback) {\n\t\tapp().cacheProvider.cacheable(\n\t\t\t\"genresList\",\n\t\t\tcacheableCallback => {\n\t\t\t\tanilibriaRequest(\n\t\t\t\t\t\"genres\", \n\t\t\t\t\t{\n\t\t\t\t\t\tsorting_type: 1\n\t\t\t\t\t}, \n\t\t\t\t\tresp => cacheableCallback(resp)\n\t\t\t\t);\n\t\t\t},\n\t\t\tcallback,\n\t\t\t60 * 60 * 3\n\t\t);\n\t}\n}","class PostRender {\n\tconstructor() {}\n\n\titemCard(html) {\n\t\tconst item = nodeFromHTML(html);\n\n\t\titem.querySelector(\".thumbnail-img\").addEventListener(\"load\", e => {\n\t\t\te.currentTarget.parentNode.parentNode.classList.add(\"load-ready\");\n\t\t});\n\n\t\treturn item;\n\t}\n\n\tsingle(html, post) {\n\t\tconst item = nodeFromHTML(html);\n\n\t\tconst playerData = {\n\t\t\tid: \"main-player-\" + post.id,\n\t\t\tdefault_quality: \"720p\",\n\t\t\tpreroll_deny: \"\",\n\t\t\tfile: []\n\t\t};\n\n\n\t\tfor(let i in post.player.list) {\n\t\t\tlet files = `[480p]https://${post.player.host}${post.player.list[i].hls.sd}`;\n\n\t\t\tif(post.player.list[i].hls.hd) {\n\t\t\t\tfiles += `,[720p]https://${post.player.host}${post.player.list[i].hls.hd}`;\n\t\t\t}\n\n\t\t\tif(post.player.list[i].hls.fhd) {\n\t\t\t\tfiles += `,[1080p]https://${post.player.host}${post.player.list[i].hls.fhd}`;\n\t\t\t}\n\n\t\t\tplayerData.file.push({\n\t\t\t\tid: \"s\" + i,\n\t\t\t\tskip: post.player.list[i].skips.opening.length ? post.player.list[i].skips.opening.join(\"-\") : null,\n\t\t\t\ttitle: `Серия ${i}`,\n\t\t\t\tposter: null,\n\t\t\t\tdownload: null,\n\t\t\t\tfile: files\n\t\t\t});\n\t\t}\n\n\t\tsetTimeout(() => {\n\t\t\tlet player = new Playerjs(playerData);\n\t\t}, 30);\n\n\t\titem.querySelector(\".fav-btn-wrap\").appendChild(app().renderer.renderFavoriteBtn(post).node);\n\n\t\titem.querySelector(\".thumbnail-img\").addEventListener(\"load\", e => {\n\t\t\te.currentTarget.parentNode.classList.add(\"load-ready\");\n\t\t});\n\n\t\treturn item;\n\t}\n\n\tfavoriteBtn(html, postId) {\n\t\tconst item = nodeFromHTML(html);\n\n\t\tconst sessId = getSessionId();\n\t\tif(sessId) {\n\t\t\titem.querySelector(\".state.unset-from\").classList.add(\"dnone\");\n\t\t\titem.querySelector(\".state.set-to\").classList.remove(\"dnone\");\n\n\t\t\tapp().loader.favouritesList(resp => {\n\t\t\t\tfor(let i=0; i<resp.length; i++) {\n\t\t\t\t\tif(postId == resp[i].id) {\n\t\t\t\t\t\titem.querySelector(\".state.unset-from\").classList.remove(\"dnone\");\n\t\t\t\t\t\titem.querySelector(\".state.set-to\").classList.add(\"dnone\");\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\titem.classList.remove(\"dnone\");\n\t\t\t});\n\t\t\t\n\t\t\titem.addEventListener(\"click\", e => {\n\t\t\t\tif(e.currentTarget.querySelector(\".unset-from\").classList.contains(\"dnone\")) {\n\t\t\t\t\taddToFavourites(postId, resp => {\n\t\t\t\t\t\titem.querySelector(\".state.unset-from\").classList.remove(\"dnone\");\n\t\t\t\t\t\titem.querySelector(\".state.set-to\").classList.add(\"dnone\");\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tremoveFromFavourites(postId, resp => {\n\t\t\t\t\t\titem.querySelector(\".state.unset-from\").classList.add(\"dnone\");\n\t\t\t\t\t\titem.querySelector(\".state.set-to\").classList.remove(\"dnone\");\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn item;\n\t}\n\n\tgenreBtn(html) {\n\t\tconst item = nodeFromHTML(html);\n\n\t\titem.addEventListener(\"click\", e => {\n\t\t\te.preventDefault();\n\t\t\tconst genre = e.currentTarget.getAttribute(\"data-genre-name\");\n\t\t\tlet selectedGenres = document.location.hash.split(\"sg:\")[1];\n\t\t\tselectedGenres = selectedGenres \n\t\t\t\t? selectedGenres.split(\",\").map(item => { return decodeURI(item); }) \n\t\t\t\t: [];\n\n\t\t\tconst inx = selectedGenres.indexOf(genre);\n\t\t\tif(inx === -1) {\n\t\t\t\tselectedGenres.push(genre);\n\t\t\t\te.currentTarget.classList.add(\"active\");\n\t\t\t} else {\n\t\t\t\tselectedGenres.splice(inx, 1);\n\t\t\t\te.currentTarget.classList.remove(\"active\");\n\t\t\t}\n\n\t\t\tdocument.location.hash = \"page:genres;sg:\" + selectedGenres.join(\",\");\n\t\t});\n\n\t\treturn item;\n\t}\n}","class Renderer {\n\tconstructor() {}\n\n\trenderThumbnail(post) {\n\t\tconst status = post.status.string ? post.status.string : \"Завершен\";\n\n\t\treturn `\n\t\t\t<div class=\"component thumbnail\">\n\t\t\t\t<img src=\"//anilibria.tv${post.posters.medium.url}\" class=\"thumbnail-img\">\n\t\t\t\t<img \n\t\t\t\t\tsrc=\"data:image/jpeg;base64,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\" \n\t\t\t\t\tclass=\"poster-placeholder\"\n\t\t\t\t>\n\t\t\t\t<div class=\"hover-effect\">\n\t\t\t\t\t<span class=\"mdi mdi-arrow-right\"></span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"status\">${status}</div>\n\t\t\t\t<div class=\"series\">Серий ${post.player.episodes.last}</div>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\trenderItemCard(post) {\n\t\tlet genres = post.genres.join(\", \");\n\t\tconst thumb = this.renderThumbnail(post);\n\n\t\tlet html = `<a href=\"#page:single;id${post.id}\" class=\"no-decoration item-link\">\n\t\t\t<div class=\"component card item-card\" data-id=\"${post.id}\">\n\t\t\t\t${thumb}\n\t\t\t\t<div class=\"info\">\n\t\t\t\t\t<div class=\"title\">${post.names.ru} (<span class=\"year\">${post.season.year}</span>)</div>\n\t\t\t\t\t<div class=\"meta\">\n\t\t\t\t\t\t<div class=\"genres\">${genres}</div>\n\t\t\t\t\t\t<div class=\"type\">${post.type.full_string}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</a>`;\n\n\t\treturn {\n\t\t\tstring: html,\n\t\t\tnode: app().postRender.itemCard(html)\n\t\t};\n\t}\n\n\trenderTorrents(post) {\n\t\tlet html = `<div class=\"component torrents\">`;\n\n\t\tfor(let i=0; i<post.torrents.list.length; i++) {\n\t\t\tconst torrent = post.torrents.list[i];\n\t\t\tlet size = torrent.total_size / 1024 / 1024;\n\t\t\tsize = (size > 1024) \n\t\t\t\t? (size / 1024).toString().split(\".\")[0] + \".\" + (size / 1024).toString().split(\".\")[1].substr(0,2) + \" ГБ\" \n\t\t\t\t: size.toString().split(\".\")[0] + \".\" +  size.toString().split(\".\")[1].substr(0,2) + \" МБ\";\n\t\t\thtml += `\n\t\t\t\t<div class=\"torrent\" data-torrent-id=\"${torrent.torrent_id}\">\n\t\t\t\t\t<div class=\"series\">Серии ${torrent.episodes.string}</div>\n\t\t\t\t\t<div class=\"quality\">${torrent.quality.string}</div>\n\t\t\t\t\t\n\t\t\t\t\t<div class=\"seed-leech\">\n\t\t\t\t\t\t<span class=\"seed\">\n\t\t\t\t\t\t\t<span class=\"mdi mdi-arrow-up\"></span>\n\t\t\t\t\t\t\t${torrent.seeders}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span class=\"leech\">\n\t\t\t\t\t\t\t<span class=\"mdi mdi-arrow-down\"></span>\n\t\t\t\t\t\t\t${torrent.leechers}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"download\">\n\t\t\t\t\t\t<a href=\"//anilibria.tv${torrent.url}\" class=\"std-btn btn-success\" target=\"_blank\">\n\t\t\t\t\t\t\t<span class=\"mdi mdi-download\"></span>\n\t\t\t\t\t\t\t<span class=\"btn-label\">Скачать</span>\n\t\t\t\t\t\t\t<span class=\"btn-tsize\">${size}</span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\thtml += \"</div>\";\n\t\treturn html;\n\t}\n\n\trenderFavoriteBtn(post) {\n\t\tconst html = `<button class=\"std-btn btn-warning fav-btn dnone\" data-id=\"${post.id}\">\n\t\t\t<span class=\"state unset-from\">\n\t\t\t\t<span class=\"mdi mdi-star\"></span>\n\t\t\t\tВ избранном\n\t\t\t</span>\n\t\t\t<span class=\"state set-to\">\n\t\t\t\t<span class=\"mdi mdi-star-outline\"></span>\n\t\t\t\tДобавить в избранное\n\t\t\t</span>\n\t\t</button>`;\n\n\t\treturn {\n\t\t\thtml: html,\n\t\t\tnode: app().postRender.favoriteBtn(html, post.id)\n\t\t};\n\t}\n\n\trenderSingle(post) {\n\t\tlet genres = this.renderGenresList(post.genres).html;\n\t\tconst thumb = this.renderThumbnail(post);\n\t\tconst torrents = this.renderTorrents(post);\n\n\t\tlet html = `<div class=\"component single-item\">\n\t\t\t<div class=\"std-row\">\n\t\t\t\t${thumb}\n\t\t\t\t<div class=\"item-info\">\n\t\t\t\t\t<h2 class=\"title\"><strong>${post.names.ru}</strong> / ${post.names.en}</h2>\n\t\t\t\t\t<div class=\"time-period\">${post.season.string || \"\"} ${post.season.year}</div>\n\t\t\t\t\t<div class=\"genres\">${genres}</div>\n\t\t\t\t\t<div class=\"type\">${post.type.full_string}</div>\n\t\t\t\t\t<div class=\"description\">${post.description}</div>\n\t\t\t\t\t<div class=\"control-panel\">\n\t\t\t\t\t\t<div class=\"fav-btn-wrap\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t${torrents}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"player\" id=\"main-player-${post.id}\"></div>\n\t\t</div>`;\n\n\t\treturn {\n\t\t\tstring: html,\n\t\t\tnode: app().postRender.single(html, post)\n\t\t};\n\t}\n\n\trenderPreloadSpinner() {\n\t\treturn `<div class=\"loadingio-spinner-dual-ball-9pyhqeozhs\"><div class=\"ldio-jyt13pqa73\">\n\t\t\t<div></div><div></div><div></div>\n\t\t\t</div></div>`;\n\t}\n\n\trenderGenreBtn(genre) {\n\t\tlet html = `<a \n\t\t\thref=\"#page:genres;sg:${genre}\" \n\t\t\tclass=\"std-btn genre-btn\" \n\t\t\tdata-genre-name=\"${genre}\"\n\t\t>\n\t\t\t${genre}\n\t\t</a>`;\n\n\t\treturn {\n\t\t\thtml: html,\n\t\t\tnode: app().postRender.genreBtn(html)\n\t\t};\n\t}\n\n\trenderGenresList(genres) {\n\t\tlet container = document.createElement(\"DIV\");\n\t\tcontainer.classList.add(\"genres-wrap\");\n\t\tlet html = `<div class=\"genres-wrap\">`;\n\t\tfor(let i=0; i<genres.length; i++) {\n\t\t\tconst btn = this.renderGenreBtn(genres[i]);\n\t\t\tcontainer.appendChild(btn.node);\n\t\t\thtml += btn.html;\n\t\t}\n\n\t\thtml += \"</div>\";\n\n\t\treturn {\n\t\t\thtml: html,\n\t\t\tnode: container\n\t\t};\n\t}\n}","class Router {\n\tconstructor(pagesContainerSelector, defaultPageId, notFoundPageId) {\n\t\tthis.containerSelector = pagesContainerSelector;\n\t\tthis.container = document.querySelector(this.containerSelector);\n\t\tthis.defaultPageId = defaultPageId;\n\t\tthis.notFoundPageId = notFoundPageId;\n\t\tthis.events = {};\n\t\tconst findedPages = this.container.querySelectorAll(\".page[id]\");\n\n\t\tthis.pages = {};\n\t\tfor(let i=0; i<findedPages.length; i++) {\n\t\t\tthis.pages[findedPages[i].getAttribute(\"id\")] = findedPages[i];\n\t\t}\n\n\t\tthis.currentPage = \"default-val\";\n\t\tthis.currentPath = \"default-val\";\n\t\tthis.zindex = 1;\n\t}\n\n\tgoToPage(pageId) {\n\t\tif(typeof pageId == \"undefined\") {\n\t\t\treturn document.location.hash = `page:${this.defaultPageId}`;\n\t\t}\n\n\t\tif(typeof this.pages[pageId] == \"undefined\") {\n\t\t\treturn this.goToPage(this.notFoundPageId);\n\t\t}\n\n\t\tthis.container.querySelectorAll(\".page.show\").forEach( p => {\n\t\t\treturn p.classList.remove(\"show\");\n\t\t} );\n\n\t\tif(typeof this.pages[pageId] != \"undefined\") {\n\t\t\tthis.events[\"jumpTo\"] && this.events[\"jumpTo\"](this, pageId);\n\t\t\tthis.events[pageId] && this.events[pageId](this);\n\t\t\tthis.pages[pageId].style.zIndex = this.zindex;\n\t\t\tthis.zindex++;\n\t\t}\n\n\t\tthis.pages[pageId]?.classList.add(\"show\");\n\t\twindow.scrollTo({ top: 0 });\n\t\tthis.currentPage = pageId;\n\t\tthis.currentPath = document.location.hash;\n\t}\n\n\turlMonitor() {\n\t\tsetInterval(() => {\n\t\t\tconst route = document.location.hash.split(\"page:\")[1];\n\t\t\tif(document.location.hash != this.currentPath) {\n\t\t\t\tthis.goToPage(route?.split(\";\")[0]);\n\t\t\t}\n\t\t}, 10);\n\t}\n\n\taddEvent(name, callback) {\n\t\tthis.events[name] = callback;\n\t}\n}","const _CONF = {\n\tapi: {\n\t\tdomen: \"api.anilibria.tv\",\n\t\tver: \"v3\"\n\t},\n\n\tperPage: {\n\t\thome: 20,\n\t\tsearch: 20,\n\t\tgenres: 20\n\t},\n\t\n\tnumbOfRelevant: 12\n};","const getSessionId = () => {\n\tconst sessId = localStorage.getItem(\"sessionId\");\n\tif(sessId) {\n\t\treturn sessId;\n\t}\n\n\treturn false;\n};\n\nconst stdXHR = (method, url, onloadCallback) => {\n\tconst xhr = new XMLHttpRequest();\n\txhr.open(method, url);\n\txhr.setRequestHeader(\"Cache-Control\", \"no-cache, no-store, max-age=0\");\n\n\txhr.onload = () => {\n\t\tif(xhr.status == 200) {\n\t\t\tonloadCallback(xhr);\n\t\t} else {\n\t\t\tif(xhr.status == 404) {\n\t\t\t\tapp().router.goToPage(\"not-found\");\n\t\t\t}\n\t\t\tconst alert = createGlobalAlertComponent(\"danger\", \"Ошибка загрузки данных\");\n\t\t\tsetTimeout(() => alert.close(), 3000);\n\t\t}\n\t}\n\n\txhr.onerror = () => {\n\t\tconst alert = createGlobalAlertComponent(\"danger\", \"Сервер не доступен\");\n\t\tsetTimeout(() => alert.close(), 3000);\n\t}\n\n\treturn xhr;\n}\n\nconst showMobNav = () => {\n\tdocument.querySelector(\".btn-nav-on-mob-show\").classList.add(\"active\");\n\tdocument.querySelectorAll(\".navigation-main-wrapper, .userbar-wrapper\").forEach(item => {\n\t\titem.classList.add(\"show\");\n\t});\n}\n\nconst hideMobNav = () => {\n\tdocument.querySelector(\".btn-nav-on-mob-show\").classList.remove(\"active\");\n\tdocument.querySelectorAll(\".navigation-main-wrapper, .userbar-wrapper\").forEach(item => {\n\t\titem.classList.remove(\"show\");\n\t});\n}\n\nconst makeSelectedGenresActivated = () => {\n\tlet selectedGenres = document.location.hash.split(\"sg:\")[1];\n\tselectedGenres = selectedGenres \n\t\t? selectedGenres.split(\",\").map(item => { return decodeURI(item); }) \n\t\t: [];\n\tdocument.querySelectorAll(\"#genres .render-genres .genre-btn.active\").forEach(\n\t\ti => i.classList.remove(\"active\")\n\t);\n\tfor(let i=0; i<selectedGenres.length; i++) {\n\t\tdocument.querySelector(`#genres .render-genres .genre-btn[data-genre-name=\"${selectedGenres[i]}\"]`)?.classList.add(\"active\");\n\t}\n}\n\nconst getItemCardFields = () => {\n\treturn [ \n\t\t\"id\", \n\t\t\"code\", \n\t\t\"names\", \n\t\t\"genres\", \n\t\t\"posters.medium.url\", \n\t\t\"status\", \n\t\t\"player.episodes\", \n\t\t\"season\", \n\t\t\"type\" \n\t];\n}\n\nconst setPageTitle = pageTitle => {\n\tdocument.querySelector(\"head title\").innerHTML = pageTitle;\n}\n\nconst nodeFromHTML = html => {\n\tconst container = document.createElement(\"DIV\");\n\tcontainer.innerHTML = html;\n\treturn item = container.childNodes[0];\n}\n\nconst addToFavourites = (postId, callback) => {\n\tconst sessId = getSessionId();\n\tif(sessId) {\n\t\tanilibriaRequest(\n\t\t\t\"user/favorites\",\n\t\t\t{\n\t\t\t\tsession: sessId,\n\t\t\t\ttitle_id: postId\n\t\t\t},\n\t\t\tresp => { \n\t\t\t\tapp().cacheProvider.unsetCache(\"favouritesList\");\n\t\t\t\tcallback(resp);\n\t\t\t},\n\t\t\t\"PUT\"\n\t\t);\n\t}\n}\n\nconst removeFromFavourites = (postId, callback) => {\n\tconst sessId = getSessionId();\n\tif(sessId) {\n\t\tanilibriaRequest(\n\t\t\t\"user/favorites\",\n\t\t\t{\n\t\t\t\tsession: sessId,\n\t\t\t\ttitle_id: postId\n\t\t\t},\n\t\t\tresp => {\n\t\t\t\tapp().cacheProvider.unsetCache(\"favouritesList\");\n\t\t\t\tcallback(resp);\n\t\t\t},\n\t\t\t\"DELETE\"\n\t\t);\n\t}\n}\n\nconst insertListToRenderContainer = (renderContainer, list) => {\n\tfor(let i = 0; i < list.length; i++) {\n\t\trenderContainer.appendChild(app().renderer.renderItemCard(list[i]).node);\n\t}\n}\n\nconst anilibriaRequest = (name, params, callback, method) => {\n\tparams = params || {};\n\n\tmethod = method || \"GET\";\n\tlet ver = _CONF.api.ver;\n\tif(name.indexOf(\":\") != -1) {\n\t\t[ver, name] = name.split(\":\");\n\t}\n\n\tlet url = `//${_CONF.api.domen}/api/${ver}/${name}`;\n\t\n\tif(params[\"filter\"]) {\t\n\t \tparams.filter = params.filter.join(\",\");\n\t}\n\n\tif(params[\"after\"] === 0) {\n\t\tdelete params[\"after\"];\n\t}\n\n\tconst query = (new URLSearchParams(params)).toString();\n\tif(query) {\n\t\turl += `?${query}`;\n\t}\n\n\tstdXHR(method, url,\n\t\txhr => {\n\t\t\tconst resp = JSON.parse(xhr.response);\n\t\t\tcallback(resp);\n\t\t}\n\t).send();\n}\n\nconst getSelectedGenres = () => {\n\tlet genres = document.location.hash.split(\"sg:\")[1];\n\tgenres = decodeURI(genres);\n\treturn genres.length ? genres.split(\",\") : [];\n}","const initRoutesEvents = (app) => {\n\tapp.router.addEvent(\"jumpTo\", (router, pageId) => {\n\t\tdocument.querySelectorAll(\"#single .render-container\").forEach(i => { i.innerHTML = \"\"; });\n\t\tdocument.querySelector(`#${pageId} .preload-spinner`)?.classList.remove(\"dnone\");\n\t\tdocument.querySelector(`[name=\"search\"]`).value = \"\";\n\t\tdocument.querySelectorAll(\".page .more-btn\").forEach(i => i.classList.add(\"dnone\"));\n\t\thideMobNav();\n\n\t\tconst pageTitle = document.querySelector(`#${pageId}`)?.getAttribute(\"data-title\");\n\t\tsetPageTitle(pageTitle);\n\t});\n\n\tapp.router.addEvent(\"login\", (router) => {\n\t\tif(getSessionId()) {\n\t\t\tdocument.location.hash = \"page:\" + router.notFoundPageId;\n\t\t}\n\t});\n\n\tapp.router.addEvent(\"home\", (router) => {\n\t\tapp.loader.homePageUpToLoad(0, (resp) => {\n\t\t\tconst renderContainer = document.querySelector(\"#home .render-container\");\n\t\t\trenderContainer.innerHTML = \"\";\n\t\t\tdocument.querySelector(\"#home .preload-spinner\").classList.add(\"dnone\");\n\t\t\tresp.list.length && document.querySelector(\"#home .more-btn\").classList.remove(\"dnone\");\n\t\t\tinsertListToRenderContainer(renderContainer, resp.list);\n\t\t});\n\t});\n\n\tapp.router.addEvent(\"single\", (router) => {\t\t\t\n\t\tconst id = document.location.hash.split(\"id\")[1];\n\n\t\tanilibriaRequest(\n\t\t\t\"title\", \n\t\t\t{\n\t\t\t\tid: id\n\t\t\t}, \n\t\t\tresp => {\n\t\t\t\tsetPageTitle(resp.names.ru);\n\t\t\t\tconst genres = resp.genres.join(\",\");\n\t\t\t\tconst renderContainer = document.querySelector(\"#single .render-container.main-render\");\n\t\t\t\trenderContainer.innerHTML = \"\";\n\t\t\t\tdocument.querySelector(\"#single .preload-spinner\").classList.add(\"dnone\");\n\t\t\t\trenderContainer.appendChild(app.renderer.renderSingle(resp).node);\n\n\t\t\t\tlet squery = resp.names.ru;\n\t\t\t\tconst filters = getItemCardFields().join(\",\");\n\n\t\t\t\tanilibriaRequest(\n\t\t\t\t\t\"title/search\", \n\t\t\t\t\t{\n\t\t\t\t\t\tsearch: resp.names.ru,\n\t\t\t\t\t\tafter: 0,\n\t\t\t\t\t\tlimit: _CONF.numbOfRelevant,\n\t\t\t\t\t\tfilter: getItemCardFields(),\n\t\t\t\t\t},\n\t\t\t\t\tresp => {\n\t\t\t\t\t\tresp.list.splice(_CONF.numbOfRelevant, resp.list.length);\n\t\t\t\t\t\tconst ids = resp.list.map(i => i.id);\n\t\t\t\t\t\tconst renderContainer = document.querySelector(\"#single .render-container.relevant-items-render\");\n\t\t\t\t\t\trenderContainer.innerHTML = \"\";\n\t\t\t\t\t\tinsertListToRenderContainer(renderContainer, resp.list.filter(i => i.id != id));\n\n\t\t\t\t\t\tif(_CONF.numbOfRelevant - renderContainer.childNodes.length > 0) {\n\t\t\t\t\t\t\tanilibriaRequest(\n\t\t\t\t\t\t\t\t\"title/search\", \n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tsearch: \"\",\n\t\t\t\t\t\t\t\t\tgenres: genres,\n\t\t\t\t\t\t\t\t\tafter: 0,\n\t\t\t\t\t\t\t\t\tlimit: _CONF.numbOfRelevant + 1,\n\t\t\t\t\t\t\t\t\tfilter: getItemCardFields(),\n\t\t\t\t\t\t\t\t}, \n\t\t\t\t\t\t\t\tresp2 => {\n\t\t\t\t\t\t\t\t\tresp2.list = resp2.list.filter(i => i.id != id);\n\t\t\t\t\t\t\t\t\tfor(let i = 0; i < resp2.list.length; i++) {\n\t\t\t\t\t\t\t\t\t\tif(renderContainer.childNodes.length >= _CONF.numbOfRelevant) {\n\t\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif(ids.indexOf(resp2.list[i].id) > -1) {\n\t\t\t\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\trenderContainer.appendChild(app.renderer.renderItemCard(resp2.list[i]).node);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t);\n\t});\n\n\tapp.router.addEvent(\"favourites\", router => {\n\t\tapp.loader.favouritesList(resp => {\n\t\t\tconst renderContainer = document.querySelector(\"#favourites .render-container\");\n\t\t\tdocument.querySelector(\"#favourites .preload-spinner\").classList.add(\"dnone\");\n\t\t\trenderContainer.innerHTML = \"\";\n\t\t\tfor(let i = resp.length-1; i >= 0 ; i--) {\n\t\t\t\tresp[i].player.episodes = resp[i].player.series;\n\t\t\t\trenderContainer.appendChild(app.renderer.renderItemCard(resp[i]).node);\n\t\t\t}\n\t\t});\n\t});\n\n\tapp.router.addEvent(\"search\", router => {\n\t\tlet squery = decodeURI(document.location.hash.split(\"sq:\")[1]);\n\t\tdocument.querySelector(`[name=\"search\"]`).value = squery;\n\n\t\tapp.loader.searchPageUpToLoad(0, resp => {\n\t\t\tconst renderContainer = document.querySelector(\"#search .render-container\");\n\t\t\trenderContainer.innerHTML = \"\";\n\t\t\tdocument.querySelector(\"#search .preload-spinner\").classList.add(\"dnone\");\n\t\t\tresp.list.length && document.querySelector(\"#search .more-btn\").classList.remove(\"dnone\");\n\t\t\tinsertListToRenderContainer(renderContainer, resp.list);\n\t\t});\n\t});\n\n\tapp.router.addEvent(\"new-series\", router => {\n\t\tanilibriaRequest(\n\t\t\t\"title/updates\", \n\t\t\t{\n\t\t\t\tafter: 0,\n\t\t\t\tlimit: 60,\n\t\t\t\tfilter: getItemCardFields(),\n\t\t\t},\n\t\t\tresp => {\n\t\t\t\tconst renderContainer = document.querySelector(\"#new-series .render-container\");\n\t\t\t\trenderContainer.innerHTML = \"\";\n\t\t\t\tdocument.querySelector(\"#new-series .preload-spinner\").classList.add(\"dnone\");\n\n\t\t\t\tapp.loader.favouritesList(favs => {\n\t\t\t\t\tfor(let i = 0; i < resp.list.length; i++) {\n\t\t\t\t\t\tfor(let j = 0; j < favs.length; j++) {\n\t\t\t\t\t\t\tif(favs[j].id == resp.list[i].id) {\n\t\t\t\t\t\t\t\trenderContainer.appendChild(app.renderer.renderItemCard(resp.list[i]).node);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t);\n\t});\n\n\tapp.router.addEvent(\"genres\", router => {\n\t\tlet selectedGenres = document.location.hash.split(\"sg:\")[1];\n\t\tsetTimeout(() => {\n\t\t\tmakeSelectedGenresActivated();\n\t\t}, 30);\n\n\t\tconst renderContainer = document.querySelector(\"#genres .render-container\");\n\t\tif(selectedGenres) {\n\t\t\tapp.loader.genresPageUpToLoad(0, resp => {\n\t\t\t\tconst renderContainer = document.querySelector(\"#genres .render-container\");\n\t\t\t\trenderContainer.innerHTML = \"\";\n\t\t\t\tdocument.querySelector(\"#genres .preload-spinner\").classList.add(\"dnone\");\n\t\t\t\tresp.list.length && document.querySelector(\"#genres .more-btn\").classList.remove(\"dnone\");\n\t\t\t\tinsertListToRenderContainer(renderContainer, resp.list);\n\t\t\t});\n\t\t} else {\n\t\t\trenderContainer.innerHTML = \"\";\n\t\t\tdocument.querySelector(\"#genres .preload-spinner\").classList.add(\"dnone\");\n\t\t}\n\t});\n}"]}